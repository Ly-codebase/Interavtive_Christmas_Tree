// Simple Same-Origin Service Worker Registration for COOP/COEP
(function(){if(self.crossOriginIsolated!==true){const L='./coi-serviceworker.js';self.addEventListener('load',()=>{if(self.navigator.serviceWorker){if(self.navigator.serviceWorker.controller){self.location.reload();return}self.navigator.serviceWorker.register(L).then(()=>{console.log('COI SW Registered.');if(!self.crossOriginIsolated){self.location.reload()}}).catch(e=>{console.error('COI SW Failed:',e)})}})})()
